<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html" charset="utf-8"><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css"><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-min.css"><link rel="stylesheet" href="css/trackr.css"><link href="http://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css"><meta name="viewport" content="width=device-width, initial-scale=1"><title>trackr API documentation</title></head><body><div id="menu"><header><div>trackr</div></header><!-- set path to ../ for pages in a subfolder--><div class="pure-menu pure-menu-open"><a href="getting_started.html" class="pure-menu-heading">Getting started</a><ul><li><a href="starting_server.html">Starting the application</a></li><li><a href="security.html">Accessing the application</a></li></ul><a class="pure-menu-heading">Application internals</a><ul><li><a href="scheduled_jobs.html">Scheduled jobs</a></li></ul><a href="api_overview.html" class="pure-menu-heading">API documentation</a><ul><li><a href="api/address_book.html">/address_book</a></li><li><a href="api/addresses.html">/addresses</a></li><li><a href="api/authorities.html">/authorities</a></li><li><a href="api/billableTimes.html">/billableTimes</a></li><li><a href="api/companies.html">/companies</a></li><li><a href="api/contactPersons.html">/contactPersons</a></li><li><a href="api/credentials.html">/credentials</a></li><li><a href="api/employees.html">/employees</a></li><li><a href="api/federalStates.html">/federalStates</a></li><li><a href="api/holidays.html">/holidays</a></li><li><a href="api/invoices.html">/invoices</a></li><li><a href="api/principal.html">/principal</a></li><li><a href="api/projects.html">/projects</a></li><li><a href="api/sickDays.html">/sickDays</a></li><li><a href="api/translations.html">/translations</a></li><li><a href="api/travelExpenseReports.html">/travelExpenseReports</a></li><li><a href="api/travelExpenses.html">/travelExpenses</a></li><li><a href="api/vacationRequests.html">/vacationRequests</a></li><li><a href="api/workTimes.html">/workTimes</a></li></ul></div></div><div id="content"><header><div>API Documentation</div></header><div class="pure-g"><div class="pure-u-1 pure-u-lg-1-24"></div><div class="pure-u-1 pure-u-lg-5-6"><h1>API Overview</h1><h2>General notes</h2><p>All pages of the API documentation describe how <b>one</b> entity looks. This does not include the links that are generated by Spring
HATEOAS.</p><h2>Date format</h2><p>Dates can be in the format of a timestamp, 'yyyy-MM-dd' or 'yyyy-MM-dd HH:mm:ss'.</p><h2 id="links">Links</h2><p>Some entities have links to other entities. You always find the links in the "_links" property. A link always has a field "href" that can be used to access the linked
resource.</p><pre>employee = {
    ...,
    "_links": {
        "credential": {
            "href": "http://localhost:8080/api/employee/1/credential"
        }
    }
}</pre><p>If you want to change the link on an entity please read the <a href="http://docs.spring.io/spring-data/rest/docs/2.1.1.RELEASE/reference/html/repository-resources.html#repository-resources.association-resource">
Spring Data REST documentation</a>. Basically, you can PUT, POST and DELETE on links. PUT and POST need the content type text/uri-list and you send the href of the other resource as the request body.</p><h2 id="projections">Projections</h2><p>Sometimes it is cumbersome to fetch linked resources via <a href="#links">links</a>. For these cases there are projections defined that embed a linked resource into the
response.</p><pre>% > curl localhost:8080/api/billableTimes/1?projection=withProject
{
    ...,
    "project": {
        "id": 12,
        "identifier": ...
    }
}
</pre><h2>PUT vs PATCH</h2><p>All entities that are updateable via PUT are also updateable via PATCH. With PATCH you can just send the fields you want to edit.</p><pre>% > curl -X PATCH -d "{\"firstName\": \"John\"}" -H "Content-Type: application/json" localhost:8080/api/employees/1
</pre><h2>Discoverability</h2><p>Most of the API is discoverable. What does that mean? A response contains not only the data but also possible links that you can follow.
Even the root of the API shows you what is available.</p><p><b>Caveat:</b> Only Spring Data REST exported controllers are self-documented like that.</p><pre>% > curl localhost:8080/api/
"api": {
    "_links": {
        "credentials": {
            "href": "http://localhost:8080/api/credentials{?page,size,sort}",
            "templated": true
        },
        "contactPersons": {
            "href": "http://localhost:8080/api/contactPersons{?page,size,sort}",
            "templated": true
        },...
    }
}

% > curl localhost:8080/api/credentials/
{
"_links": {
    "self": {
        "href": "http://localhost:8080/api/credentials{?page,size,sort}",
        "templated": true
    },
    "search": {
        "href": "http://localhost:8080/api/credentials/search"
    }
},
"_embedded": {
    "credentials": [
        {
            "id": 0,
            "email": "admin@techdev.de",
            "enabled": true,
            "_links": {
                "self": {
                    "href": "http://localhost:8080/api/credentials/0"
                },
                "employee": {
                    "href": "http://localhost:8080/api/credentials/0/employee"
                },
                "authorities": {
                    "href": "http://localhost:8080/api/credentials/0/authorities"
                }
            }
        },...
    ]
}
}</pre><p>As you see, this is fairly self explanatory. But be careful: These links do not evaluate if you are allowed to access them so you might get
a 403.</p><h2 id="pageable">Pageable GET requests.</h2><p>All requests marked with <b>pageable</b> in the parameters section take the following arguments:</p><table class="pure-table"><thead><tr><th>name</th><th>type</th><th>required</th><th>description</th><th>example</th></tr></thead><tbody><tr><td>size</td><td>numeric</td><td>false</td><td>number of elements. greater than 1.</td><td>10</td></tr><tr><td>page</td><td>numeric</td><td>false</td><td>page to access. 0-based.</td><td>1</td></tr><tr><td>sort</td><td>string</td><td>false</td><td>property to sort by</td><td>name</td></tr></tbody></table></div><div class="pure-u-1 pure-u-lg-3-24"></div></div></div></body></html>