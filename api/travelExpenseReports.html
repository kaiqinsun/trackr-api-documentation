<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html" charset="utf-8"><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css"><link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-min.css"><link rel="stylesheet" href="../css/trackr.css"><link href="http://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css"><meta name="viewport" content="width=device-width, initial-scale=1"><title>trackr API documentation</title></head><body><div id="menu"><header><div>trackr</div></header><!-- set path to ../ for pages in a subfolder--><div class="pure-menu pure-menu-open"><a href="../getting_started.html" class="pure-menu-heading">Getting started</a><ul><li><a href="../starting_server.html">Starting the application</a></li><li><a href="../security.html">Accessing the application</a></li></ul><a class="pure-menu-heading">Application internals</a><ul><li><a href="../scheduled_jobs.html">Scheduled jobs</a></li></ul><a href="../api_overview.html" class="pure-menu-heading">API documentation</a><ul><li><a href="../api/address_book.html">/address_book</a></li><li><a href="../api/addresses.html">/addresses</a></li><li><a href="../api/authorities.html">/authorities</a></li><li><a href="../api/billableTimes.html">/billableTimes</a></li><li><a href="../api/companies.html">/companies</a></li><li><a href="../api/contactPersons.html">/contactPersons</a></li><li><a href="../api/credentials.html">/credentials</a></li><li><a href="../api/employees.html">/employees</a></li><li><a href="../api/federalStates.html">/federalStates</a></li><li><a href="../api/holidays.html">/holidays</a></li><li><a href="../api/invoices.html">/invoices</a></li><li><a href="../api/principal.html">/principal</a></li><li><a href="../api/projects.html">/projects</a></li><li><a href="../api/sickDays.html">/sickDays</a></li><li><a href="../api/translations.html">/translations</a></li><li class="pure-menu-selected"><a href="../api/travelExpenseReports.html">/travelExpenseReports</a></li><li><a href="../api/travelExpenseReportComments.html">/travelExpenseReportComments</a></li><li><a href="../api/travelExpenses.html">/travelExpenses</a></li><li><a href="../api/vacationRequests.html">/vacationRequests</a></li><li><a href="../api/workTimes.html">/workTimes</a></li></ul></div></div><div id="content"><header><div>API Documentation</div></header><div class="pure-g"><div class="pure-u-1 pure-u-lg-1-24"></div><div class="pure-u-1 pure-u-lg-5-6"><h1>/travelExpenseReports</h1><p>Employees can create travel expense reports for their travel expenses. A travel expense report has a travel expense report status that can be SUBMITTED, PENDING, APPROVED or REJECTED.</p><div class="pure-g"><div class="pure-u-1 pure-u-lg-3-5"><h2 id="endpoints">Endpoints</h2><table class="pure-table pure-table-bordered"><thead><tr><th>Method</th><th>Path</th></tr></thead><tbody><tr><td>GET</td><td><a href="#GET/{id}">/{id}</a></td></tr><tr><td>GET</td><td><a href="#GET/search/findByEmployeeOrderByStatusAsc">/search/findByEmployeeOrderByStatusAsc</a></td></tr><tr><td>GET</td><td><a href="#GET/search/findByStatusOrderByEmployee_LastNameAsc">/search/findByStatusOrderByEmployee_LastNameAsc</a></td></tr><tr><td>GET</td><td><a href="#GET/search/findBySubmissionDateBetween">/search/findBySubmissionDateBetween</a></td></tr><tr><td>GET</td><td><a href="#GET/{id}/pdf">/{id}/pdf</a></td></tr><tr><td>POST</td><td><a href="#POST/">/</a></td></tr><tr><td>PUT</td><td><a href="#PUT/{id}">/{id}</a></td></tr><tr><td>PUT</td><td><a href="#PUT/{id}/submit">/{id}/submit</a></td></tr><tr><td>PUT</td><td><a href="#PUT/{id}/approve">/{id}/approve</a></td></tr><tr><td>PUT</td><td><a href="#PUT/{id}/reject">/{id}/reject</a></td></tr><tr><td>DELETE</td><td><a href="#DELETE/{id}">/{id}</a></td></tr></tbody></table><h2>Projections</h2><table class="pure-table"><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>overview</td><td>The employee, approver and expenses are embedded.</td></tr><tr><td>withEmployeeAndExpenses</td><td>The employee and expenses are embedded.</td></tr><tr><td>withExpenses</td><td>The expenses are embedded.</td></tr></tbody></table></div><div class="pure-u-1 pure-u-lg-2-5"><h2>Structure</h2><table class="pure-table pure-table-bordered"><thead><tr><th>Fieldname</th><th>Fieldtype</th><th>Validations</th></tr></thead><tbody><tr><td>id</td><td>Long</td><td></td></tr><tr><td>version</td><td>Integer</td><td></td></tr><tr><td>status</td><td>travel expense report status</td><td></td></tr><tr><td>submissionDate</td><td>Date</td><td></td></tr><tr><td>approvalDate</td><td>Date</td><td></td></tr><tr><td><a href="api_overview.html#links">Links</a></td><td colspan="2">Security</td></tr><tr><td><a href="travelExpenses.html">expenses</a></td><td colspan="2">delete and update by ROLE_SUPERVISOR or owning employee</td></tr><tr><td><a href="employees.html">employee</a></td><td colspan="2">No update or delete</td></tr><tr><td><a href="employees.html">approver</a></td><td colspan="2">No update or delete</td></tr><tr><td><a href="travelExpenseReportComments.html">comments</a></td><td colspan="2"></td></tr></tbody></table></div></div><h2 id="GET/{id}">GET /{id}<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Get a single travelExpenseReport by its id.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_SUPERVISOR or owning employee.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>One travelExpenseReport.</p></div></div><hr><h2 id="GET/search/findByEmployeeOrderByStatusAsc">GET /search/findByEmployeeOrderByStatusAsc<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Get all travel expense reports for an employee.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>Owning employee.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>List of travel expense reports.</p></div></div><h4>Parameters</h4><table class="pure-table pure-table-bordered"><thead><tr><th>name</th><th>type</th><th>required</th><th>description</th></tr></thead><tbody><tr><td>employee</td><td>Long</td><td>true</td><td>The id of the employee to fetch the reports for.</td></tr></tbody></table><hr><h2 id="GET/search/findByStatusOrderByEmployee_LastNameAsc">GET /search/findByStatusOrderByEmployee_LastNameAsc<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Find reports by their status.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_SUPERVISOR</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>A page of travel expense reports.</p></div></div><h4>Parameters</h4><b><a href="api_overview.html#pageable">pageable</a></b><table class="pure-table pure-table-bordered"><thead><tr><th>name</th><th>type</th><th>required</th><th>description</th></tr></thead><tbody><tr><td>status</td><td>travel expense report status</td><td>true</td><td>The status to search for.</td></tr></tbody></table><hr><h2 id="GET/search/findBySubmissionDateBetween">GET /search/findBySubmissionDateBetween<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Find travel expense reports that have a submission date in an interval.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_ADMIN</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>A list of travel expense reports.</p></div></div><h4>Parameters</h4><table class="pure-table pure-table-bordered"><thead><tr><th>name</th><th>type</th><th>required</th><th>description</th></tr></thead><tbody><tr><td>start</td><td>Date</td><td>true</td><td>The start of the interval.</td></tr><tr><td>end</td><td>Date</td><td>true</td><td>The end of the interval.</td></tr></tbody></table><hr><h2 id="GET/{id}/pdf">GET /{id}/pdf<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Get the report as a PDF file</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_SUPERVISOR</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>A byte stream containgin the PDF, encoded in base 64.</p></div></div><hr><h2 id="POST/">POST /<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Create a new travelExpenseReport. Returns the created object.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>Owning employee.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>A single travelExpenseReport.</p></div></div><hr><h2 id="PUT/{id}">PUT /{id}<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Update the travelExpenseReport identified by id. Returns the updated object.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_SUPERVISOR</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>A single travelExpenseReport.</p></div></div><hr><h2 id="PUT/{id}/submit">PUT /{id}/submit<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Submit a travel expense report so a supervisor can accept it (i.e. change the status to SUBMITTED). Will send a mail to all supervisors that a new travel expense report has been submitted.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>Owning employee.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>Nothing</p></div></div><hr><h2 id="PUT/{id}/approve">PUT /{id}/approve<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Approve a travel expense report. Sets the approval date and approver employee (to the logged in user) on the report.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_SUPERVISOR but *not* the owning employee.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>Nothing.</p></div></div><hr><h2 id="PUT/{id}/reject">PUT /{id}/reject<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Reject a travel expense report. Sets the approval date and approver employee (to the logged in user) on the report.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_SUPERVISOR but *not* the owning employee.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>Nothing.</p></div></div><hr><h2 id="DELETE/{id}">DELETE /{id}<a href="#endpoints" class="back-to-top">&#9650;</a></h2><p>Delete the travelExpenseReport identified by id.</p><div class="pure-g"><div class="pure-u-1 pure-u-md-1-2"><h4>Security</h4><p>ROLE_ADMIN or owner and status is PENDING or REJECTED.</p></div><div class="pure-u-1 pure-u-md-1-2"><h4>Returns</h4><p>Nothing</p></div></div><hr></div><div class="pure-u-1 pure-u-lg-3-24"></div></div></div></body></html>