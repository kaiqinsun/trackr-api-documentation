extends ../base/layout
block vars
    - var page = 'api/api_overview'
block content
    h1 API Overview

    h2 General notes
    p All pages of the API documentation describe how <b>one</b> entity looks. This does not include the links that are generated by Spring
        | HATEOAS.
    p There may be pages without any endpoint described, but the corresponding entity may be accessible via a link. An example
        | are the addresses of companies. You can't access an address by its own, only through the company. The page exists to describe
        | how an address is structured.

    h2 Discoverability
    p.
        Most of the API is discoverable. What does that mean? A response contains not only the data but also possible links that you can follow.
        Even the root of the API shows you what is available.
    p
        b Caveat:
        |  Only Spring Data REST exported controllers are self-documented like that.
    pre.
        % > curl localhost:8080/api/
        "api": {
            "_links": {
                "credentials": {
                    "href": "http://localhost:8080/api/credentials{?page,size,sort}",
                    "templated": true
                },
                "contactPersons": {
                    "href": "http://localhost:8080/api/contactPersons{?page,size,sort}",
                    "templated": true
                },...
            }
        }

        % > curl localhost:8080/api/credentials/
        {
        "_links": {
            "self": {
                "href": "http://localhost:8080/api/credentials{?page,size,sort}",
                "templated": true
            },
            "search": {
                "href": "http://localhost:8080/api/credentials/search"
            }
        },
        "_embedded": {
            "credentials": [
                {
                    "id": 0,
                    "email": "admin@techdev.de",
                    "enabled": true,
                    "_links": {
                        "self": {
                            "href": "http://localhost:8080/api/credentials/0"
                        },
                        "employee": {
                            "href": "http://localhost:8080/api/credentials/0/employee"
                        },
                        "authorities": {
                            "href": "http://localhost:8080/api/credentials/0/authorities"
                        }
                    }
                },...
            ]
        }
        }
    p As you see, this is fairly self explanatory. But be careful: These links do not evaluate if you are allowed to access them so you might get
        | a 403.

    h2#pageable Pageable GET requests.
    p All requests marked with <b>pageable</b> in the parameters section take the following arguments:
    table.pure-table
        thead
            tr
                th name
                th type
                th required
                th description
                th example
        tbody
            tr
                td size
                td numeric
                td false
                td number of elements. greater than 1.
                td 10
            tr
                td page
                td numeric
                td false
                td page to access. 0-based.
                td 1
            tr
                td sort
                td string
                td false
                td property to sort by
                td name